(function(e,c,a,g){var d="userCam",f={error:function(h){console.log(h)},start:function(h){}};function b(i,h){var j=this;j.element=i;j.options=e.extend({},f,h);j.video=null;j.init=function(){if(navigator.getUserMedia){navigator.getUserMedia({video:true},j.success,j.failure)}else{if(navigator.webkitGetUserMedia){navigator.webkitGetUserMedia({video:true},j.success,j.failure)}else{j.options.error("Your browser does not support getUserMedia")}}};j.success=function(k){if(c.webkitURL){k=c.webkitURL.createObjectURL(k)}$video=e("<video>");j.video=$video.get(0);$video.on("play",j.startedPlaying);j.video.autoplay=true;j.video.src=k;$video.appendTo(j.element)};j.failure=function(){this.options.error("Permission for getUserMedia denied")};j.startedPlaying=function(k){j.options.start(k,j.video)};j.getStill=function(m){var l=e("<canvas>").get(0);l.width=j.video.videoWidth;l.height=j.video.videoHeight;var k=l.getContext("2d");k.drawImage(j.video,0,0,l.width,l.height);return l.toDataURL("image/png")};j.init()}e.fn[d]=function(h){return this.each(function(){if(!e.data(this,d)){e.data(this,d,new b(this,h))}})}}(jQuery,window));